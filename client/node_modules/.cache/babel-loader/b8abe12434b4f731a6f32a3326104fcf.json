{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\Documents\\\\GitHub\\\\karaoke\\\\client\\\\src\\\\components\\\\Library.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useMemo } from 'react';\nimport '../../node_modules/bootstrap/dist/js/bootstrap.min.js';\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport { useTable, useFilters, useGlobalFilter, useAsyncDebounce } from 'react-table';\nimport { matchSorter } from 'match-sorter';\n\nfunction GlobalFilter({\n  preGlobalFilteredRows,\n  globalFilter,\n  setGlobalFilter\n}) {\n  _s();\n\n  const [value, setValue] = useState(globalFilter);\n  const onChange = useAsyncDebounce(value => {\n    setGlobalFilter(value || undefined);\n  }, 200);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"input-group mb-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-group-prepend\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"input-group-text\",\n        id: \"basic-addon1\",\n        children: \"Search:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"\",\n      \"aria-label\": \"Username\",\n      \"aria-describedby\": \"basic-addon1\",\n      value: value || \"\",\n      onChange: e => {\n        setValue(e.target.value);\n        onChange(e.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n}\n\n_s(GlobalFilter, \"u76gItWTPW4jhTYSCcNG7/LfbyA=\", false, function () {\n  return [useAsyncDebounce];\n});\n\n_c = GlobalFilter;\n\nfunction DefaultColumnFilter({\n  column: {\n    filterValue,\n    preFilteredRows,\n    setFilter\n  }\n}) {\n  const count = preFilteredRows.length;\n  return /*#__PURE__*/_jsxDEV(\"input\", {\n    value: filterValue || '',\n    onChange: e => {\n      setFilter(e.target.value || undefined); // Set undefined to remove the filter entirely\n    },\n    placeholder: `Search ${count} records...`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = DefaultColumnFilter;\n\nfunction fuzzyTextFilterFn(rows, id, filterValue) {\n  return matchSorter(rows, filterValue, {\n    keys: [row => row.values[id]]\n  });\n}\n\nconst TableComponent = props => {\n  _s2();\n\n  const defaultColumn = useMemo(() => ({\n    // Let's set up our default Filter UI\n    Filter: DefaultColumnFilter\n  }), []);\n  const filterTypes = useMemo(() => ({\n    // Add a new fuzzyTextFilterFn filter type.\n    fuzzyText: fuzzyTextFilterFn,\n    // Or, override the default text filter to use\n    // \"startWith\"\n    text: (rows, id, filterValue) => {\n      return rows.filter(row => {\n        const rowValue = row.values[id];\n        return rowValue !== undefined ? String(rowValue).toLowerCase().startsWith(String(filterValue).toLowerCase()) : true;\n      });\n    }\n  }), []);\n  const columns = useMemo(() => [{\n    Header: 'Code',\n    accessor: 'code',\n    // accessor is the \"key\" in the data\n    show: false\n  }, {\n    Header: 'Title',\n    accessor: 'title'\n  }, {\n    Header: 'Artist',\n    accessor: 'artist'\n  }, {\n    Header: '',\n    accessor: 'button',\n    Cell: ({\n      row: {\n        original\n      }\n    }) => {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-dark\",\n        onClick: () => props.addSong(original),\n        children: \"Add to Queue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 19\n      }, this);\n    }\n  }], []);\n  const data = useMemo(() => {\n    var tableData = Object.values(props.library);\n    return tableData.map(function (song, i) {\n      return {\n        code: song.code,\n        title: song.title,\n        artist: song.artist,\n        url: song.url,\n        index: i\n      };\n    });\n  }, [props.library]);\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n    state,\n    preGlobalFilteredRows,\n    setGlobalFilter\n  } = useTable({\n    columns,\n    data,\n    defaultColumn,\n    // Be sure to pass the defaultColumn option\n    filterTypes\n  }, useFilters, // useFilters!\n  useGlobalFilter // useGlobalFilter!\n  );\n\n  const table = /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GlobalFilter, {\n      preGlobalFilteredRows: preGlobalFilteredRows,\n      globalFilter: state.globalFilter,\n      setGlobalFilter: setGlobalFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table table-hover table-sm\",\n      ...getTableProps(),\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: headerGroups.map(headerGroup => /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"d-flex\",\n          ...headerGroup.getHeaderGroupProps(),\n          children: headerGroup.headers.map(column => /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"col\",\n            ...column.getHeaderProps(),\n            children: column.render('Header')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        className: \"scroll\",\n        ...getTableBodyProps(),\n        children: rows.map((row, i) => {\n          prepareRow(row);\n          let key = uuidv4();\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"d-flex\",\n            ...row.getRowProps(),\n            children: row.cells.map(cell => {\n              return /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"col marquee\",\n                id: key + \"title\",\n                onMouseEnter: event => {\n                  console.log('entered');\n                  var id = event.target.id;\n                  var obj = document.getElementById(id);\n                  console.log(id);\n\n                  if (id.substring(id.length - 4, id.length) === \"anim\") {\n                    id = id.substring(0, id.length - 4);\n                  }\n\n                  if (!obj.style.overflow || obj.style.overflow === \"visible\") {\n                    obj.style.overflow = 'hidden';\n                  }\n\n                  if (obj.clientWidth < obj.scrollWidth || obj.clientHeight < obj.scrollHeight) {\n                    var anim = document.getElementById(event.target.id + 'anim');\n\n                    if (anim) {\n                      anim.className = 'anim';\n                    } else {\n                      console.log(\"cant find anim\");\n                      console.log(event.target.id);\n                    }\n                  }\n                },\n                onAnimationEnd: event => {\n                  console.log('anim end');\n                  var obj = document.getElementById(event.target.id);\n\n                  if (obj) {\n                    obj.className = '';\n                  }\n                },\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  id: key + \"titleanim\",\n                  className: \"\",\n                  children: cell.render('Cell')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 23\n                }, this)\n              }, key + \"title\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 26\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n\n  return table; // const table = (\n  //   <>\n  //     <GlobalFilter\n  //       preGlobalFilteredRows={preGlobalFilteredRows}\n  //       globalFilter={state.globalFilter}\n  //       setGlobalFilter={setGlobalFilter}\n  //     />\n  //     <table className=\"table table-hover table-sm\" {...getTableProps()}>\n  //       <thead>\n  //         {headerGroups.map(headerGroup => (\n  //           <tr className=\"d-flex\" {...headerGroup.getHeaderGroupProps()}>\n  //             {headerGroup.headers.map(column => (\n  //               <th className=\"col\" {...column.getHeaderProps()}>\n  //                 {column.render('Header')}\n  //               </th>\n  //             ))}\n  //           </tr>\n  //         ))}\n  //       </thead>\n  //       <tbody className=\"scroll\" {...getTableBodyProps()}>\n  //         {rows.map((row, i) => {\n  //           prepareRow(row)\n  //           return (\n  //             <tr className=\"d-flex\" {...row.getRowProps()}>\n  //               {row.cells.map(cell => {\n  //                 return <td className=\"col\" {...cell.getCellProps()}>{cell.render('Cell')}</td>\n  //               })}\n  //             </tr>\n  //           )\n  //         })}\n  //       </tbody>\n  //     </table>\n  //   </>\n  // );\n  // return table;\n};\n\n_s2(TableComponent, \"dWCCT9weKDE003Q873UnexycHd8=\", false, function () {\n  return [useTable];\n});\n\n_c3 = TableComponent;\n\nfunction Library(props) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"table-fixed\",\n    children: /*#__PURE__*/_jsxDEV(TableComponent, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 5\n  }, this);\n}\n\n_c4 = Library;\nexport default Library; // Library reads from json\n// whenever video is added to queue, check if already in library.\n// If so dont do anything\n// If not, ask if want to add to library. If so, prompt for song name and artist. then add to json and current library state\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"GlobalFilter\");\n$RefreshReg$(_c2, \"DefaultColumnFilter\");\n$RefreshReg$(_c3, \"TableComponent\");\n$RefreshReg$(_c4, \"Library\");","map":{"version":3,"sources":["D:/Documents/GitHub/karaoke/client/src/components/Library.js"],"names":["React","useState","useMemo","useTable","useFilters","useGlobalFilter","useAsyncDebounce","matchSorter","GlobalFilter","preGlobalFilteredRows","globalFilter","setGlobalFilter","value","setValue","onChange","undefined","e","target","DefaultColumnFilter","column","filterValue","preFilteredRows","setFilter","count","length","fuzzyTextFilterFn","rows","id","keys","row","values","TableComponent","props","defaultColumn","Filter","filterTypes","fuzzyText","text","filter","rowValue","String","toLowerCase","startsWith","columns","Header","accessor","show","Cell","original","addSong","data","tableData","Object","library","map","song","i","code","title","artist","url","index","getTableProps","getTableBodyProps","headerGroups","prepareRow","state","table","headerGroup","getHeaderGroupProps","headers","getHeaderProps","render","key","uuidv4","getRowProps","cells","cell","event","console","log","obj","document","getElementById","substring","style","overflow","clientWidth","scrollWidth","clientHeight","scrollHeight","anim","className","Library"],"mappings":"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","sourcesContent":["import React, { useState, useMemo } from 'react';\r\nimport '../../node_modules/bootstrap/dist/js/bootstrap.min.js';\r\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport { useTable, useFilters, useGlobalFilter, useAsyncDebounce } from 'react-table';\r\nimport { matchSorter } from 'match-sorter';\r\n\r\nfunction GlobalFilter({\r\n  preGlobalFilteredRows,\r\n  globalFilter,\r\n  setGlobalFilter,\r\n}) {\r\n  const [value, setValue] = useState(globalFilter)\r\n  const onChange = useAsyncDebounce(value => {\r\n    setGlobalFilter(value || undefined)\r\n  }, 200)\r\n\r\n  return (\r\n    <div className=\"input-group mb-3\">\r\n      <div className=\"input-group-prepend\">\r\n        <span className=\"input-group-text\" id=\"basic-addon1\">Search:</span>\r\n      </div>\r\n      <input type=\"text\" className=\"form-control\" placeholder=\"\" aria-label=\"Username\" aria-describedby=\"basic-addon1\" value={value || \"\"}\r\n        onChange={e => {\r\n          setValue(e.target.value);\r\n          onChange(e.target.value);\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction DefaultColumnFilter({\r\n  column: { filterValue, preFilteredRows, setFilter },\r\n}) {\r\n  const count = preFilteredRows.length\r\n\r\n  return (\r\n    <input\r\n      value={filterValue || ''}\r\n      onChange={e => {\r\n        setFilter(e.target.value || undefined) // Set undefined to remove the filter entirely\r\n      }}\r\n      placeholder={`Search ${count} records...`}\r\n    />\r\n  )\r\n}\r\n\r\nfunction fuzzyTextFilterFn(rows, id, filterValue) {\r\n  return matchSorter(rows, filterValue, { keys: [row => row.values[id]] })\r\n}\r\n\r\nconst TableComponent = (props) => {\r\n  const defaultColumn = useMemo(\r\n    () => ({\r\n      // Let's set up our default Filter UI\r\n      Filter: DefaultColumnFilter,\r\n    }),\r\n    []\r\n  )\r\n\r\n  const filterTypes = useMemo(\r\n    () => ({\r\n      // Add a new fuzzyTextFilterFn filter type.\r\n      fuzzyText: fuzzyTextFilterFn,\r\n      // Or, override the default text filter to use\r\n      // \"startWith\"\r\n      text: (rows, id, filterValue) => {\r\n        return rows.filter(row => {\r\n          const rowValue = row.values[id]\r\n          return rowValue !== undefined\r\n            ? String(rowValue)\r\n                .toLowerCase()\r\n                .startsWith(String(filterValue).toLowerCase())\r\n            : true\r\n        })\r\n      },\r\n    }),\r\n    []\r\n  );\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: 'Code',\r\n        accessor: 'code', // accessor is the \"key\" in the data\r\n        show: false\r\n      },\r\n      {\r\n        Header: 'Title',\r\n        accessor: 'title',\r\n      },\r\n      {\r\n        Header: 'Artist',\r\n        accessor: 'artist',\r\n      },\r\n      {\r\n        Header: '',\r\n        accessor: 'button',\r\n        Cell: ({ row: { original } }) => {\r\n          return (<button className=\"btn btn-outline-dark\" onClick={() => props.addSong(original)}>Add to Queue</button>)\r\n        },\r\n      },\r\n    ],[]\r\n  );\r\n\r\n\r\n  const data = useMemo(() => {\r\n    var tableData = Object.values(props.library);\r\n    return tableData.map(function(song, i) {\r\n      return (\r\n        {\r\n          code: song.code,\r\n          title: song.title,\r\n          artist: song.artist,\r\n          url: song.url,\r\n          index: i\r\n        }\r\n      );\r\n    })}, [props.library]);\r\n\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    rows,\r\n    prepareRow,\r\n    state,\r\n    preGlobalFilteredRows,\r\n    setGlobalFilter,\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn, // Be sure to pass the defaultColumn option\r\n      filterTypes,\r\n    },\r\n    useFilters, // useFilters!\r\n    useGlobalFilter // useGlobalFilter!\r\n  )\r\n\r\n  const table = (\r\n    <>\r\n      <GlobalFilter\r\n        preGlobalFilteredRows={preGlobalFilteredRows}\r\n        globalFilter={state.globalFilter}\r\n        setGlobalFilter={setGlobalFilter}\r\n      />\r\n      <table className=\"table table-hover table-sm\" {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr className=\"d-flex\" {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map(column => (\r\n                <th className=\"col\" {...column.getHeaderProps()}>\r\n                  {column.render('Header')}\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody className=\"scroll\" {...getTableBodyProps()}>\r\n          {rows.map((row, i) => {\r\n            prepareRow(row)\r\n            let key = uuidv4();\r\n            return (\r\n              <tr className=\"d-flex\" {...row.getRowProps()}>\r\n                {row.cells.map(cell => {\r\n                  return <td className=\"col marquee\" id={key + \"title\"} key={key + \"title\"} onMouseEnter={(event) => {\r\n                    console.log('entered');\r\n                    var id = event.target.id;\r\n                    var obj = document.getElementById(id);\r\n                    console.log(id);\r\n                    if (id.substring(id.length - 4, id.length) === \"anim\") {\r\n                      id = id.substring(0, id.length-4);\r\n                    }\r\n                    if (!obj.style.overflow || obj.style.overflow === \"visible\") {\r\n                      obj.style.overflow = 'hidden';\r\n                    }\r\n                    if (obj.clientWidth < obj.scrollWidth || obj.clientHeight < obj.scrollHeight) {\r\n                      var anim = document.getElementById(event.target.id+'anim');\r\n                      if (anim) {\r\n                        anim.className = 'anim';\r\n                      }\r\n                      else {\r\n                        console.log(\"cant find anim\");\r\n                        console.log(event.target.id);\r\n                      }\r\n                    }\r\n                  }} onAnimationEnd={(event) => {\r\n                    console.log('anim end');\r\n                    var obj = document.getElementById(event.target.id);\r\n                    if (obj) {\r\n                      obj.className = '';\r\n                    }\r\n                  }} ><span id={key + \"titleanim\"} className=''>{cell.render('Cell')}</span></td>\r\n                })}\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </>\r\n  );\r\n  return table;\r\n\r\n  // const table = (\r\n  //   <>\r\n  //     <GlobalFilter\r\n  //       preGlobalFilteredRows={preGlobalFilteredRows}\r\n  //       globalFilter={state.globalFilter}\r\n  //       setGlobalFilter={setGlobalFilter}\r\n  //     />\r\n  //     <table className=\"table table-hover table-sm\" {...getTableProps()}>\r\n  //       <thead>\r\n  //         {headerGroups.map(headerGroup => (\r\n  //           <tr className=\"d-flex\" {...headerGroup.getHeaderGroupProps()}>\r\n  //             {headerGroup.headers.map(column => (\r\n  //               <th className=\"col\" {...column.getHeaderProps()}>\r\n  //                 {column.render('Header')}\r\n  //               </th>\r\n  //             ))}\r\n  //           </tr>\r\n  //         ))}\r\n  //       </thead>\r\n  //       <tbody className=\"scroll\" {...getTableBodyProps()}>\r\n  //         {rows.map((row, i) => {\r\n  //           prepareRow(row)\r\n  //           return (\r\n  //             <tr className=\"d-flex\" {...row.getRowProps()}>\r\n  //               {row.cells.map(cell => {\r\n  //                 return <td className=\"col\" {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n  //               })}\r\n  //             </tr>\r\n  //           )\r\n  //         })}\r\n  //       </tbody>\r\n  //     </table>\r\n  //   </>\r\n  // );\r\n  // return table;\r\n}\r\n\r\nfunction Library(props) {\r\n\r\n  return (\r\n    <div className=\"table-fixed\">\r\n      <TableComponent {...props}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Library;\r\n\r\n// Library reads from json\r\n// whenever video is added to queue, check if already in library.\r\n// If so dont do anything\r\n// If not, ask if want to add to library. If so, prompt for song name and artist. then add to json and current library state\r\n"]},"metadata":{},"sourceType":"module"}