{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\Documents\\\\GitHub\\\\karaoke\\\\client\\\\src\\\\components\\\\Library.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useState, useMemo } from 'react';\nimport '../../node_modules/bootstrap/dist/js/bootstrap.min.js';\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport { useTable, useFilters, useGlobalFilter, useAsyncDebounce } from 'react-table';\nimport { InputGroup, FormControl } from 'react-bootstrap';\nimport { matchSorter } from 'match-sorter';\n\nfunction GlobalFilter({\n  preGlobalFilteredRows,\n  globalFilter,\n  setGlobalFilter\n}) {\n  _s();\n\n  const [value, setValue] = useState(globalFilter);\n  const onChange = useAsyncDebounce(value => {\n    setGlobalFilter(value || undefined);\n  }, 200);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"input-group mb-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-group-prepend\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"input-group-text\",\n        id: \"basic-addon1\",\n        children: \"Search:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"\",\n      \"aria-label\": \"Username\",\n      \"aria-describedby\": \"basic-addon1\",\n      value: value || \"\",\n      onChange: e => {\n        setValue(e.target.value);\n        onChange(e.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n}\n\n_s(GlobalFilter, \"u76gItWTPW4jhTYSCcNG7/LfbyA=\", false, function () {\n  return [useAsyncDebounce];\n});\n\n_c = GlobalFilter;\n\nfunction DefaultColumnFilter({\n  column: {\n    filterValue,\n    preFilteredRows,\n    setFilter\n  }\n}) {\n  const count = preFilteredRows.length;\n  return /*#__PURE__*/_jsxDEV(\"input\", {\n    value: filterValue || '',\n    onChange: e => {\n      setFilter(e.target.value || undefined); // Set undefined to remove the filter entirely\n    },\n    placeholder: `Search ${count} records...`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n\n_c2 = DefaultColumnFilter;\n\nfunction fuzzyTextFilterFn(rows, id, filterValue) {\n  return matchSorter(rows, filterValue, {\n    keys: [row => row.values[id]]\n  });\n}\n\nconst TableComponent = props => {\n  _s2();\n\n  const defaultColumn = useMemo(() => ({\n    // Let's set up our default Filter UI\n    Filter: DefaultColumnFilter\n  }), []);\n  const filterTypes = useMemo(() => ({\n    // Add a new fuzzyTextFilterFn filter type.\n    fuzzyText: fuzzyTextFilterFn,\n    // Or, override the default text filter to use\n    // \"startWith\"\n    text: (rows, id, filterValue) => {\n      return rows.filter(row => {\n        const rowValue = row.values[id];\n        return rowValue !== undefined ? String(rowValue).toLowerCase().startsWith(String(filterValue).toLowerCase()) : true;\n      });\n    }\n  }), []);\n  const columns = useMemo(() => [{\n    Header: 'Code',\n    accessor: 'code',\n    // accessor is the \"key\" in the data\n    show: false\n  }, {\n    Header: 'Title',\n    accessor: 'title'\n  }, {\n    Header: 'Artist',\n    accessor: 'artist'\n  }, {\n    Header: '',\n    accessor: 'button',\n    Cell: ({\n      row: {\n        original\n      }\n    }) => {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-dark\",\n        onClick: () => props.addSong(original),\n        children: \"Add to Queue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 19\n      }, this);\n    }\n  }, {\n    Header: '',\n    accessor: 'options',\n    Cell: ({\n      row: {\n        original\n      }\n    }) => {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-outline-dark\",\n        \"data-toggle\": \"modal\",\n        \"data-target\": \"#optionModal\",\n        onClick: () => props.setOption(original),\n        children: \"Options\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 19\n      }, this);\n    }\n  }], []);\n  const data = useMemo(() => {\n    var tableData = props.library;\n    return tableData.map(function (song, i) {\n      return {\n        code: song.code,\n        title: song.title,\n        artist: song.artist,\n        url: song.url,\n        index: i\n      };\n    });\n  }, [props.library]);\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    rows,\n    prepareRow,\n    state,\n    preGlobalFilteredRows,\n    setGlobalFilter\n  } = useTable({\n    columns,\n    data,\n    defaultColumn,\n    // Be sure to pass the defaultColumn option\n    filterTypes\n  }, useFilters, // useFilters!\n  useGlobalFilter // useGlobalFilter!\n  );\n\n  const table = /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GlobalFilter, {\n      preGlobalFilteredRows: preGlobalFilteredRows,\n      globalFilter: state.globalFilter,\n      setGlobalFilter: setGlobalFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table table-hover table-sm\",\n      ...getTableProps(),\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: headerGroups.map(headerGroup => /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: \"d-flex\",\n          ...headerGroup.getHeaderGroupProps(),\n          children: headerGroup.headers.map(column => /*#__PURE__*/_jsxDEV(\"th\", {\n            className: \"col\",\n            ...column.getHeaderProps(),\n            children: column.render('Header')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        className: \"scroll\",\n        ...getTableBodyProps(),\n        children: rows.map((row, i) => {\n          prepareRow(row);\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"d-flex\",\n            ...row.getRowProps(),\n            children: row.cells.map(cell => {\n              return /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"col\",\n                ...cell.getCellProps(),\n                children: cell.render('Cell')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 26\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal fade\",\n      id: \"optionModal\",\n      tabIndex: \"-1\",\n      role: \"dialog\",\n      \"aria-labelledby\": \"optionModalLabel\",\n      \"aria-hidden\": \"true\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-dialog\",\n        role: \"document\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"modal-title\",\n              id: \"optionModalLabel\",\n              children: props.option.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"close\",\n              \"data-dismiss\": \"modal\",\n              \"aria-label\": \"Close\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                \"aria-hidden\": \"true\",\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n                children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                  id: \"basic-addon2\",\n                  children: \"Title\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                id: \"title\",\n                placeholder: \"Title\",\n                \"aria-label\": \"Title\",\n                \"aria-describedby\": \"basic-addon2\",\n                value: props.option.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n                children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                  id: \"basic-addon3\",\n                  children: \"Artist\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                id: \"artist\",\n                placeholder: \"Artist\",\n                \"aria-label\": \"Artist\",\n                \"aria-describedby\": \"basic-addon3\",\n                value: props.option.artist\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              \"data-dismiss\": \"modal\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-danger\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary\",\n              children: \"Save changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n\n  return table;\n};\n\n_s2(TableComponent, \"dWCCT9weKDE003Q873UnexycHd8=\", false, function () {\n  return [useTable];\n});\n\n_c3 = TableComponent;\n\nfunction Library(props) {\n  _s3();\n\n  var [option, setOption] = useState('');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"table-fixed\",\n    children: /*#__PURE__*/_jsxDEV(TableComponent, {\n      setOption: setOption,\n      option: option,\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 247,\n    columnNumber: 5\n  }, this);\n}\n\n_s3(Library, \"Ym002j4bitSh1ZI4K83l8i/d3HE=\");\n\n_c4 = Library;\nexport default Library; // Library reads from json\n// whenever video is added to queue, check if already in library.\n// If so dont do anything\n// If not, ask if want to add to library. If so, prompt for song name and artist. then add to json and current library state\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"GlobalFilter\");\n$RefreshReg$(_c2, \"DefaultColumnFilter\");\n$RefreshReg$(_c3, \"TableComponent\");\n$RefreshReg$(_c4, \"Library\");","map":{"version":3,"sources":["D:/Documents/GitHub/karaoke/client/src/components/Library.js"],"names":["React","useState","useMemo","useTable","useFilters","useGlobalFilter","useAsyncDebounce","InputGroup","FormControl","matchSorter","GlobalFilter","preGlobalFilteredRows","globalFilter","setGlobalFilter","value","setValue","onChange","undefined","e","target","DefaultColumnFilter","column","filterValue","preFilteredRows","setFilter","count","length","fuzzyTextFilterFn","rows","id","keys","row","values","TableComponent","props","defaultColumn","Filter","filterTypes","fuzzyText","text","filter","rowValue","String","toLowerCase","startsWith","columns","Header","accessor","show","Cell","original","addSong","setOption","data","tableData","library","map","song","i","code","title","artist","url","index","getTableProps","getTableBodyProps","headerGroups","prepareRow","state","table","headerGroup","getHeaderGroupProps","headers","getHeaderProps","render","getRowProps","cells","cell","getCellProps","option","Library"],"mappings":"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","sourcesContent":["import React, { useState, useMemo } from 'react';\r\nimport '../../node_modules/bootstrap/dist/js/bootstrap.min.js';\r\nimport '../../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport { useTable, useFilters, useGlobalFilter, useAsyncDebounce } from 'react-table';\r\nimport { InputGroup, FormControl } from 'react-bootstrap';\r\nimport { matchSorter } from 'match-sorter';\r\n\r\n\r\n\r\nfunction GlobalFilter({\r\n  preGlobalFilteredRows,\r\n  globalFilter,\r\n  setGlobalFilter,\r\n}) {\r\n  const [value, setValue] = useState(globalFilter)\r\n  const onChange = useAsyncDebounce(value => {\r\n    setGlobalFilter(value || undefined)\r\n  }, 200)\r\n\r\n  return (\r\n    <div className=\"input-group mb-3\">\r\n      <div className=\"input-group-prepend\">\r\n        <span className=\"input-group-text\" id=\"basic-addon1\">Search:</span>\r\n      </div>\r\n      <input type=\"text\" className=\"form-control\" placeholder=\"\" aria-label=\"Username\" aria-describedby=\"basic-addon1\" value={value || \"\"}\r\n        onChange={e => {\r\n          setValue(e.target.value);\r\n          onChange(e.target.value);\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction DefaultColumnFilter({\r\n  column: { filterValue, preFilteredRows, setFilter },\r\n}) {\r\n  const count = preFilteredRows.length\r\n\r\n  return (\r\n    <input\r\n      value={filterValue || ''}\r\n      onChange={e => {\r\n        setFilter(e.target.value || undefined) // Set undefined to remove the filter entirely\r\n      }}\r\n      placeholder={`Search ${count} records...`}\r\n    />\r\n  )\r\n}\r\n\r\nfunction fuzzyTextFilterFn(rows, id, filterValue) {\r\n  return matchSorter(rows, filterValue, { keys: [row => row.values[id]] })\r\n}\r\n\r\nconst TableComponent = (props) => {\r\n  const defaultColumn = useMemo(\r\n    () => ({\r\n      // Let's set up our default Filter UI\r\n      Filter: DefaultColumnFilter,\r\n    }),\r\n    []\r\n  )\r\n\r\n  const filterTypes = useMemo(\r\n    () => ({\r\n      // Add a new fuzzyTextFilterFn filter type.\r\n      fuzzyText: fuzzyTextFilterFn,\r\n      // Or, override the default text filter to use\r\n      // \"startWith\"\r\n      text: (rows, id, filterValue) => {\r\n        return rows.filter(row => {\r\n          const rowValue = row.values[id]\r\n          return rowValue !== undefined\r\n            ? String(rowValue)\r\n                .toLowerCase()\r\n                .startsWith(String(filterValue).toLowerCase())\r\n            : true\r\n        })\r\n      },\r\n    }),\r\n    []\r\n  );\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: 'Code',\r\n        accessor: 'code', // accessor is the \"key\" in the data\r\n        show: false\r\n      },\r\n      {\r\n        Header: 'Title',\r\n        accessor: 'title',\r\n      },\r\n      {\r\n        Header: 'Artist',\r\n        accessor: 'artist',\r\n      },\r\n      {\r\n        Header: '',\r\n        accessor: 'button',\r\n        Cell: ({ row: { original } }) => {\r\n          return (<button className=\"btn btn-outline-dark\" onClick={() => props.addSong(original)}>Add to Queue</button>)\r\n        },\r\n      },\r\n      {\r\n        Header: '',\r\n        accessor: 'options',\r\n        Cell: ({ row: { original } }) => {\r\n          return (<button className=\"btn btn-outline-dark\" data-toggle=\"modal\" data-target=\"#optionModal\" onClick={() => props.setOption(original)} >Options</button>)\r\n        },\r\n      },\r\n    ],[]\r\n  );\r\n\r\n\r\n  const data = useMemo(() => {\r\n    var tableData = props.library;\r\n    return tableData.map(function(song, i) {\r\n      return (\r\n        {\r\n          code: song.code,\r\n          title: song.title,\r\n          artist: song.artist,\r\n          url: song.url,\r\n          index: i\r\n        }\r\n      );\r\n    })}, [props.library]);\r\n\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    rows,\r\n    prepareRow,\r\n    state,\r\n    preGlobalFilteredRows,\r\n    setGlobalFilter,\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data,\r\n      defaultColumn, // Be sure to pass the defaultColumn option\r\n      filterTypes,\r\n    },\r\n    useFilters, // useFilters!\r\n    useGlobalFilter // useGlobalFilter!\r\n  )\r\n\r\n  const table = (\r\n    <>\r\n      <GlobalFilter\r\n        preGlobalFilteredRows={preGlobalFilteredRows}\r\n        globalFilter={state.globalFilter}\r\n        setGlobalFilter={setGlobalFilter}\r\n      />\r\n      <table className=\"table table-hover table-sm\" {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map(headerGroup => (\r\n            <tr className=\"d-flex\" {...headerGroup.getHeaderGroupProps()}>\r\n              {headerGroup.headers.map(column => (\r\n                <th className=\"col\" {...column.getHeaderProps()}>\r\n                  {column.render('Header')}\r\n                </th>\r\n              ))}\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody className=\"scroll\" {...getTableBodyProps()}>\r\n          {rows.map((row, i) => {\r\n            prepareRow(row)\r\n            return (\r\n              <tr className=\"d-flex\" {...row.getRowProps()}>\r\n                {row.cells.map(cell => {\r\n                  return <td className=\"col\" {...cell.getCellProps()}>{cell.render('Cell')}</td>\r\n                })}\r\n              </tr>\r\n            )\r\n          })}\r\n        </tbody>\r\n      </table>\r\n      <div className=\"modal fade\" id=\"optionModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"optionModalLabel\" aria-hidden=\"true\">\r\n        <div className=\"modal-dialog\" role=\"document\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h5 className=\"modal-title\" id=\"optionModalLabel\">{props.option.title}</h5>\r\n              <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                <span aria-hidden=\"true\">&times;</span>\r\n              </button>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <InputGroup className=\"mb-3\">\r\n                <InputGroup.Prepend>\r\n                  <InputGroup.Text id=\"basic-addon2\">Title</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <FormControl\r\n                  id=\"title\"\r\n                  placeholder=\"Title\"\r\n                  aria-label=\"Title\"\r\n                  aria-describedby=\"basic-addon2\"\r\n                  value={props.option.title}\r\n                />\r\n              </InputGroup>\r\n              <InputGroup className=\"mb-3\">\r\n                <InputGroup.Prepend>\r\n                  <InputGroup.Text id=\"basic-addon3\">Artist</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <FormControl\r\n                  id=\"artist\"\r\n                  placeholder=\"Artist\"\r\n                  aria-label=\"Artist\"\r\n                  aria-describedby=\"basic-addon3\"\r\n                  value={props.option.artist}\r\n                />\r\n              </InputGroup>\r\n              {/*<InputGroup className=\"mb-3\">\r\n                <InputGroup.Prepend>\r\n                  <InputGroup.Text id=\"basic-addon3\">Tags</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n                <FormControl\r\n                  id=\"tags\"\r\n                  placeholder=\"Tags\"\r\n                  aria-label=\"tags\"\r\n                  aria-describedby=\"basic-addon3\"\r\n                />\r\n              </InputGroup>*/}\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\r\n              <button type=\"button\" className=\"btn btn-danger\">Delete</button>\r\n              <button type=\"button\" className=\"btn btn-primary\">Save changes</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n  return table;\r\n}\r\n\r\nfunction Library(props) {\r\n\r\n  var [option, setOption] = useState('');\r\n\r\n  return (\r\n    <div className=\"table-fixed\">\r\n      <TableComponent setOption={setOption} option={option} {...props}/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Library;\r\n\r\n// Library reads from json\r\n// whenever video is added to queue, check if already in library.\r\n// If so dont do anything\r\n// If not, ask if want to add to library. If so, prompt for song name and artist. then add to json and current library state\r\n"]},"metadata":{},"sourceType":"module"}